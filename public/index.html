<!DOCTYPE html>
<script src="./assets/config.js"></script>
<html lang="fr" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Steam Recos | IA</title>
    <link rel="stylesheet" href="./assets/styles.css" />
  </head>
  <body>
    <header class="topbar">
      <div class="brand">
        <span class="dot"></span>
        <span>Steam Scout</span>
      </div>
      <nav>
        <a href="./indie.html" class="ghost">Indie Spotlight</a>
        <a href="./history.html" class="ghost">Historique</a>
        <button id="themeToggle" class="ghost">‚òæ</button>
      </nav>
    </header>

    <main class="layout">
      <section class="banner">
        <div>
          <p class="eyebrow">Indie Spotlight</p>
          <p>D√©couvre des p√©pites ind√©s bien not√©es ou prometteuses.</p>
        </div>
        <a class="pill" href="./indie.html">Voir la liste ‚Üí</a>
      </section>

      <section class="hero">
        <div>
          <p class="eyebrow">Recommandations Steam</p>
          <h1>Entre ton SteamID64, on s‚Äôoccupe du reste.</h1>
          <p class="muted">
            70% pertinence + 30% d√©couverte contr√¥l√©e. Suggestions g√©n√©r√©es par l‚ÄôIA via proxy Cloudflare Worker.
          </p>
          <div class="input-group">
            <input id="steamIdInput" type="text" inputmode="numeric" placeholder="7656119..." />
            <button id="recommendBtn">Recommander</button>
            <button id="surpriseBtn" class="ghost">Me surprendre</button>
          </div>
          <p id="steamHint" class="hint">Ton SteamID64 est sur ton URL de profil public.</p>
          <div class="chips" id="quickFilters">
            <button data-filter="fps">FPS</button>
            <button data-filter="f2p">F2P</button>
            <button data-filter="coop">Coop</button>
            <button data-filter="horror">Horror</button>
            <button data-filter="roguelite">Rogue-lite</button>
            <button data-filter="indie">Ind√©</button>
            <button data-filter="adventure">Aventure</button>
            <button data-filter="rpg">RPG</button>
            <button data-filter="simulator">Simulator</button>
          </div>
          <div class="chips subchips" aria-label="Options avanc√©es">
            <span>Modes :</span>
            <button data-mode="online">Coop online</button>
            <button data-mode="local">Coop local</button>
            <button data-mode="solo">Solo</button>
          </div>
          <div class="chips budget">
            <span>Budget :</span>
            <button data-budget="0">Gratuit</button>
            <button data-budget="10">&lt;10‚Ç¨</button>
            <button data-budget="20">&lt;20‚Ç¨</button>
            <label class="slider">
              Prix max
              <input id="priceSlider" type="range" min="0" max="60" step="1" value="30" />
              <span id="priceValue">30‚Ç¨</span>
            </label>
          </div>
        </div>
        <div class="panel" id="statusPanel">
          <p id="statusText">Pr√™t √† analyser ta biblioth√®que.</p>
          <div class="loader" hidden></div>
          <p class="muted small" id="queueInfo"></p>
        </div>
      </section>

      <section class="section" id="reco-results">
        <header class="section-header">
          <div>
            <p class="eyebrow">R√©sultat</p>
            <h2>Top 3 pour toi</h2>
          </div>
          <div class="capsules">
            <span class="pill ghost" id="cacheInfo" hidden>Cache</span>
            <span class="pill ghost" id="llmInfo" hidden>Explication IA</span>
          </div>
        </header>
        <div id="results" class="grid results-grid"></div>
        <article id="explanation" class="explanation" hidden></article>
        <div class="reroll-wrap">
          <button id="rerollBtn" class="ghost" hidden>üîÅ Essayer d‚Äôautres jeux</button>
        </div>
      </section>

      <section class="section history-cta">
        <div>
          <h3>Historique</h3>
          <p class="muted">Retrouve tes pr√©c√©dentes recommandations. Stock√© localement, Supabase optionnel.</p>
        </div>
        <a class="pill" href="./history.html">Voir l‚Äôhistorique ‚Üí</a>
      </section>
    </main>

    <footer class="footer">
      <p>Cloudflare Worker proxy ¬∑ Dataset local ¬∑ IA pour le wording</p>
    </footer>

    <script type="module" src="./assets/app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pako@2.1.0/dist/pako.min.js"></script>

  </body>
</html>
